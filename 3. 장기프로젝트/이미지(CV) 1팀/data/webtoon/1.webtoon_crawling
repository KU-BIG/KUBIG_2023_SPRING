{"cells":[{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/drive')"],"metadata":{"id":"-2tGmXRtGx4U","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1688398253510,"user_tz":-540,"elapsed":344584,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}},"outputId":"d9e20091-42c2-4be5-c7e5-99d281a34161"},"execution_count":1,"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}]},{"cell_type":"code","source":["!pip install selenium\n","!apt install chromium-chromedriver\n","!pip install webdriver_manager\n","!pip install requests bs4 pytest-shutil bboxes cvlib\n","!pip install ipyplot"],"metadata":{"id":"5O8ANIfTwZzj","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1688398294942,"user_tz":-540,"elapsed":41438,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}},"outputId":"b318137e-d1dd-4c49-97f6-c98809ab6df7"},"execution_count":2,"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting selenium\n","  Downloading selenium-4.10.0-py3-none-any.whl (6.7 MB)\n","\u001b[?25l     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m0.0/6.7 MB\u001b[0m \u001b[31m?\u001b[0m eta \u001b[36m-:--:--\u001b[0m\r\u001b[2K     \u001b[91m━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[91m╸\u001b[0m\u001b[90m━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m3.3/6.7 MB\u001b[0m \u001b[31m99.9 MB/s\u001b[0m eta \u001b[36m0:00:01\u001b[0m\r\u001b[2K     \u001b[91m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[91m╸\u001b[0m \u001b[32m6.7/6.7 MB\u001b[0m \u001b[31m107.7 MB/s\u001b[0m eta \u001b[36m0:00:01\u001b[0m\r\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m6.7/6.7 MB\u001b[0m \u001b[31m73.1 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hRequirement already satisfied: urllib3[socks]<3,>=1.26 in /usr/local/lib/python3.10/dist-packages (from selenium) (1.26.16)\n","Collecting trio~=0.17 (from selenium)\n","  Downloading trio-0.22.1-py3-none-any.whl (399 kB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m399.3/399.3 kB\u001b[0m \u001b[31m33.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hCollecting trio-websocket~=0.9 (from selenium)\n","  Downloading trio_websocket-0.10.3-py3-none-any.whl (17 kB)\n","Requirement already satisfied: certifi>=2021.10.8 in /usr/local/lib/python3.10/dist-packages (from selenium) (2023.5.7)\n","Requirement already satisfied: attrs>=20.1.0 in /usr/local/lib/python3.10/dist-packages (from trio~=0.17->selenium) (23.1.0)\n","Requirement already satisfied: sortedcontainers in /usr/local/lib/python3.10/dist-packages (from trio~=0.17->selenium) (2.4.0)\n","Requirement already satisfied: idna in /usr/local/lib/python3.10/dist-packages (from trio~=0.17->selenium) (3.4)\n","Collecting outcome (from trio~=0.17->selenium)\n","  Downloading outcome-1.2.0-py2.py3-none-any.whl (9.7 kB)\n","Requirement already satisfied: sniffio in /usr/local/lib/python3.10/dist-packages (from trio~=0.17->selenium) (1.3.0)\n","Requirement already satisfied: exceptiongroup>=1.0.0rc9 in /usr/local/lib/python3.10/dist-packages (from trio~=0.17->selenium) (1.1.1)\n","Collecting wsproto>=0.14 (from trio-websocket~=0.9->selenium)\n","  Downloading wsproto-1.2.0-py3-none-any.whl (24 kB)\n","Requirement already satisfied: PySocks!=1.5.7,<2.0,>=1.5.6 in /usr/local/lib/python3.10/dist-packages (from urllib3[socks]<3,>=1.26->selenium) (1.7.1)\n","Collecting h11<1,>=0.9.0 (from wsproto>=0.14->trio-websocket~=0.9->selenium)\n","  Downloading h11-0.14.0-py3-none-any.whl (58 kB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m58.3/58.3 kB\u001b[0m \u001b[31m5.7 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hInstalling collected packages: outcome, h11, wsproto, trio, trio-websocket, selenium\n","Successfully installed h11-0.14.0 outcome-1.2.0 selenium-4.10.0 trio-0.22.1 trio-websocket-0.10.3 wsproto-1.2.0\n","Reading package lists... Done\n","Building dependency tree       \n","Reading state information... Done\n","The following additional packages will be installed:\n","  apparmor chromium-browser liblzo2-2 libudev1 snapd squashfs-tools udev\n","Suggested packages:\n","  apparmor-profiles-extra apparmor-utils zenity | kdialog\n","The following NEW packages will be installed:\n","  apparmor chromium-browser chromium-chromedriver liblzo2-2 snapd\n","  squashfs-tools udev\n","The following packages will be upgraded:\n","  libudev1\n","1 upgraded, 7 newly installed, 0 to remove and 14 not upgraded.\n","Need to get 40.1 MB of archives.\n","After this operation, 183 MB of additional disk space will be used.\n","Get:1 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 apparmor amd64 2.13.3-7ubuntu5.2 [502 kB]\n","Get:2 http://archive.ubuntu.com/ubuntu focal/main amd64 liblzo2-2 amd64 2.10-2 [50.8 kB]\n","Get:3 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 squashfs-tools amd64 1:4.4-1ubuntu0.3 [117 kB]\n","Get:4 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libudev1 amd64 245.4-4ubuntu3.22 [75.4 kB]\n","Get:5 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 udev amd64 245.4-4ubuntu3.22 [1,366 kB]\n","Get:6 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 snapd amd64 2.58+20.04.1 [37.9 MB]\n","Get:7 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 chromium-browser amd64 1:85.0.4183.83-0ubuntu0.20.04.3 [48.5 kB]\n","Get:8 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 chromium-chromedriver amd64 1:85.0.4183.83-0ubuntu0.20.04.3 [2,496 B]\n","Fetched 40.1 MB in 2s (19.6 MB/s)\n","Preconfiguring packages ...\n","Selecting previously unselected package apparmor.\n","(Reading database ... 123069 files and directories currently installed.)\n","Preparing to unpack .../apparmor_2.13.3-7ubuntu5.2_amd64.deb ...\n","Unpacking apparmor (2.13.3-7ubuntu5.2) ...\n","Selecting previously unselected package liblzo2-2:amd64.\n","Preparing to unpack .../liblzo2-2_2.10-2_amd64.deb ...\n","Unpacking liblzo2-2:amd64 (2.10-2) ...\n","Selecting previously unselected package squashfs-tools.\n","Preparing to unpack .../squashfs-tools_1%3a4.4-1ubuntu0.3_amd64.deb ...\n","Unpacking squashfs-tools (1:4.4-1ubuntu0.3) ...\n","Preparing to unpack .../libudev1_245.4-4ubuntu3.22_amd64.deb ...\n","Unpacking libudev1:amd64 (245.4-4ubuntu3.22) over (245.4-4ubuntu3.21) ...\n","Setting up libudev1:amd64 (245.4-4ubuntu3.22) ...\n","Selecting previously unselected package udev.\n","(Reading database ... 123256 files and directories currently installed.)\n","Preparing to unpack .../udev_245.4-4ubuntu3.22_amd64.deb ...\n","Unpacking udev (245.4-4ubuntu3.22) ...\n","Selecting previously unselected package snapd.\n","Preparing to unpack .../snapd_2.58+20.04.1_amd64.deb ...\n","Unpacking snapd (2.58+20.04.1) ...\n","Setting up apparmor (2.13.3-7ubuntu5.2) ...\n","Created symlink /etc/systemd/system/sysinit.target.wants/apparmor.service → /lib/systemd/system/apparmor.service.\n","Setting up liblzo2-2:amd64 (2.10-2) ...\n","Setting up squashfs-tools (1:4.4-1ubuntu0.3) ...\n","Setting up udev (245.4-4ubuntu3.22) ...\n","invoke-rc.d: could not determine current runlevel\n","invoke-rc.d: policy-rc.d denied execution of start.\n","Setting up snapd (2.58+20.04.1) ...\n","Created symlink /etc/systemd/system/multi-user.target.wants/snapd.aa-prompt-listener.service → /lib/systemd/system/snapd.aa-prompt-listener.service.\n","Created symlink /etc/systemd/system/multi-user.target.wants/snapd.apparmor.service → /lib/systemd/system/snapd.apparmor.service.\n","Created symlink /etc/systemd/system/multi-user.target.wants/snapd.autoimport.service → /lib/systemd/system/snapd.autoimport.service.\n","Created symlink /etc/systemd/system/multi-user.target.wants/snapd.core-fixup.service → /lib/systemd/system/snapd.core-fixup.service.\n","Created symlink /etc/systemd/system/multi-user.target.wants/snapd.recovery-chooser-trigger.service → /lib/systemd/system/snapd.recovery-chooser-trigger.service.\n","Created symlink /etc/systemd/system/multi-user.target.wants/snapd.seeded.service → /lib/systemd/system/snapd.seeded.service.\n","Created symlink /etc/systemd/system/cloud-final.service.wants/snapd.seeded.service → /lib/systemd/system/snapd.seeded.service.\n","Created symlink /etc/systemd/system/multi-user.target.wants/snapd.service → /lib/systemd/system/snapd.service.\n","Created symlink /etc/systemd/system/timers.target.wants/snapd.snap-repair.timer → /lib/systemd/system/snapd.snap-repair.timer.\n","Created symlink /etc/systemd/system/sockets.target.wants/snapd.socket → /lib/systemd/system/snapd.socket.\n","Created symlink /etc/systemd/system/final.target.wants/snapd.system-shutdown.service → /lib/systemd/system/snapd.system-shutdown.service.\n","Selecting previously unselected package chromium-browser.\n","(Reading database ... 123477 files and directories currently installed.)\n","Preparing to unpack .../chromium-browser_1%3a85.0.4183.83-0ubuntu0.20.04.3_amd64.deb ...\n","=> Installing the chromium snap\n","==> Checking connectivity with the snap store\n","===> System doesn't have a working snapd, skipping\n","Unpacking chromium-browser (1:85.0.4183.83-0ubuntu0.20.04.3) ...\n","Selecting previously unselected package chromium-chromedriver.\n","Preparing to unpack .../chromium-chromedriver_1%3a85.0.4183.83-0ubuntu0.20.04.3_amd64.deb ...\n","Unpacking chromium-chromedriver (1:85.0.4183.83-0ubuntu0.20.04.3) ...\n","Setting up chromium-browser (1:85.0.4183.83-0ubuntu0.20.04.3) ...\n","update-alternatives: using /usr/bin/chromium-browser to provide /usr/bin/x-www-browser (x-www-browser) in auto mode\n","update-alternatives: using /usr/bin/chromium-browser to provide /usr/bin/gnome-www-browser (gnome-www-browser) in auto mode\n","Setting up chromium-chromedriver (1:85.0.4183.83-0ubuntu0.20.04.3) ...\n","Processing triggers for mime-support (3.64ubuntu1) ...\n","Processing triggers for hicolor-icon-theme (0.17-2) ...\n","Processing triggers for libc-bin (2.31-0ubuntu9.9) ...\n","Processing triggers for systemd (245.4-4ubuntu3.22) ...\n","Processing triggers for man-db (2.9.1-1) ...\n","Processing triggers for dbus (1.12.16-2ubuntu2.3) ...\n","Collecting webdriver_manager\n","  Downloading webdriver_manager-3.8.6-py2.py3-none-any.whl (27 kB)\n","Requirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (from webdriver_manager) (2.27.1)\n","Collecting python-dotenv (from webdriver_manager)\n","  Downloading python_dotenv-1.0.0-py3-none-any.whl (19 kB)\n","Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from webdriver_manager) (4.65.0)\n","Requirement already satisfied: packaging in /usr/local/lib/python3.10/dist-packages (from webdriver_manager) (23.1)\n","Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests->webdriver_manager) (1.26.16)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests->webdriver_manager) (2023.5.7)\n","Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests->webdriver_manager) (2.0.12)\n","Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests->webdriver_manager) (3.4)\n","Installing collected packages: python-dotenv, webdriver_manager\n","Successfully installed python-dotenv-1.0.0 webdriver_manager-3.8.6\n","Requirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (2.27.1)\n","Collecting bs4\n","  Downloading bs4-0.0.1.tar.gz (1.1 kB)\n","  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n","Collecting pytest-shutil\n","  Downloading pytest_shutil-1.7.0-py2.py3-none-any.whl (15 kB)\n","Collecting bboxes\n","  Downloading bboxes-0.0.1-py3-none-any.whl (5.0 kB)\n","Collecting cvlib\n","  Downloading cvlib-0.2.7.tar.gz (13.1 MB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m13.1/13.1 MB\u001b[0m \u001b[31m80.9 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25h  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n","Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests) (1.26.16)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests) (2023.5.7)\n","Requirement already satisfied: charset-normalizer~=2.0.0 in /usr/local/lib/python3.10/dist-packages (from requests) (2.0.12)\n","Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests) (3.4)\n","Requirement already satisfied: beautifulsoup4 in /usr/local/lib/python3.10/dist-packages (from bs4) (4.11.2)\n","Requirement already satisfied: six in /usr/local/lib/python3.10/dist-packages (from pytest-shutil) (1.16.0)\n","Collecting execnet (from pytest-shutil)\n","  Downloading execnet-1.9.0-py2.py3-none-any.whl (39 kB)\n","Requirement already satisfied: contextlib2 in /usr/local/lib/python3.10/dist-packages (from pytest-shutil) (0.6.0.post1)\n","Requirement already satisfied: pytest in /usr/local/lib/python3.10/dist-packages (from pytest-shutil) (7.2.2)\n","Collecting path.py (from pytest-shutil)\n","  Downloading path.py-12.5.0-py3-none-any.whl (2.3 kB)\n","Collecting mock (from pytest-shutil)\n","  Downloading mock-5.0.2-py3-none-any.whl (30 kB)\n","Requirement already satisfied: termcolor in /usr/local/lib/python3.10/dist-packages (from pytest-shutil) (2.3.0)\n","Requirement already satisfied: numpy in /usr/local/lib/python3.10/dist-packages (from bboxes) (1.22.4)\n","Requirement already satisfied: matplotlib in /usr/local/lib/python3.10/dist-packages (from bboxes) (3.7.1)\n","Requirement already satisfied: opencv-python in /usr/local/lib/python3.10/dist-packages (from bboxes) (4.7.0.72)\n","Collecting progressbar (from cvlib)\n","  Downloading progressbar-2.5.tar.gz (10 kB)\n","  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n","Requirement already satisfied: pillow in /usr/local/lib/python3.10/dist-packages (from cvlib) (8.4.0)\n","Requirement already satisfied: imageio in /usr/local/lib/python3.10/dist-packages (from cvlib) (2.25.1)\n","Requirement already satisfied: imutils in /usr/local/lib/python3.10/dist-packages (from cvlib) (0.5.4)\n","Requirement already satisfied: soupsieve>1.2 in /usr/local/lib/python3.10/dist-packages (from beautifulsoup4->bs4) (2.4.1)\n","Requirement already satisfied: contourpy>=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->bboxes) (1.1.0)\n","Requirement already satisfied: cycler>=0.10 in /usr/local/lib/python3.10/dist-packages (from matplotlib->bboxes) (0.11.0)\n","Requirement already satisfied: fonttools>=4.22.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib->bboxes) (4.40.0)\n","Requirement already satisfied: kiwisolver>=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->bboxes) (1.4.4)\n","Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib->bboxes) (23.1)\n","Requirement already satisfied: pyparsing>=2.3.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->bboxes) (3.1.0)\n","Requirement already satisfied: python-dateutil>=2.7 in /usr/local/lib/python3.10/dist-packages (from matplotlib->bboxes) (2.8.2)\n","Collecting path (from path.py->pytest-shutil)\n","  Downloading path-16.6.0-py3-none-any.whl (26 kB)\n","Requirement already satisfied: attrs>=19.2.0 in /usr/local/lib/python3.10/dist-packages (from pytest->pytest-shutil) (23.1.0)\n","Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/dist-packages (from pytest->pytest-shutil) (2.0.0)\n","Requirement already satisfied: pluggy<2.0,>=0.12 in /usr/local/lib/python3.10/dist-packages (from pytest->pytest-shutil) (1.2.0)\n","Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/dist-packages (from pytest->pytest-shutil) (1.1.1)\n","Requirement already satisfied: tomli>=1.0.0 in /usr/local/lib/python3.10/dist-packages (from pytest->pytest-shutil) (2.0.1)\n","Building wheels for collected packages: bs4, cvlib, progressbar\n","  Building wheel for bs4 (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for bs4: filename=bs4-0.0.1-py3-none-any.whl size=1257 sha256=ab956c61885688249b7f239b1822d3fd15adff0cd27eb3efcd98227315ebe347\n","  Stored in directory: /root/.cache/pip/wheels/25/42/45/b773edc52acb16cd2db4cf1a0b47117e2f69bb4eb300ed0e70\n","  Building wheel for cvlib (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for cvlib: filename=cvlib-0.2.7-py3-none-any.whl size=10046368 sha256=2d1b9e89c2ca00b6e4de71a2ca48de028a7abe53b172d386861f20dd76033b03\n","  Stored in directory: /root/.cache/pip/wheels/9e/a5/d4/fe37b48fe4f4b621ba5e574a991230070f3cc4f02322a01489\n","  Building wheel for progressbar (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for progressbar: filename=progressbar-2.5-py3-none-any.whl size=12067 sha256=3d323e3f425b90c6993b2affb30185662530f417596a897427c7f03e6a9a0046\n","  Stored in directory: /root/.cache/pip/wheels/cd/17/e5/765d1a3112ff3978f70223502f6047e06c43a24d7c5f8ff95b\n","Successfully built bs4 cvlib progressbar\n","Installing collected packages: progressbar, path, mock, execnet, path.py, cvlib, bs4, pytest-shutil, bboxes\n","Successfully installed bboxes-0.0.1 bs4-0.0.1 cvlib-0.2.7 execnet-1.9.0 mock-5.0.2 path-16.6.0 path.py-12.5.0 progressbar-2.5 pytest-shutil-1.7.0\n","Collecting ipyplot\n","  Downloading ipyplot-1.1.1-py3-none-any.whl (13 kB)\n","Requirement already satisfied: IPython in /usr/local/lib/python3.10/dist-packages (from ipyplot) (7.34.0)\n","Requirement already satisfied: numpy in /usr/local/lib/python3.10/dist-packages (from ipyplot) (1.22.4)\n","Requirement already satisfied: pillow in /usr/local/lib/python3.10/dist-packages (from ipyplot) (8.4.0)\n","Collecting shortuuid (from ipyplot)\n","  Downloading shortuuid-1.0.11-py3-none-any.whl (10 kB)\n","Requirement already satisfied: setuptools>=18.5 in /usr/local/lib/python3.10/dist-packages (from IPython->ipyplot) (67.7.2)\n","Collecting jedi>=0.16 (from IPython->ipyplot)\n","  Downloading jedi-0.18.2-py2.py3-none-any.whl (1.6 MB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m1.6/1.6 MB\u001b[0m \u001b[31m39.0 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hRequirement already satisfied: decorator in /usr/local/lib/python3.10/dist-packages (from IPython->ipyplot) (4.4.2)\n","Requirement already satisfied: pickleshare in /usr/local/lib/python3.10/dist-packages (from IPython->ipyplot) (0.7.5)\n","Requirement already satisfied: traitlets>=4.2 in /usr/local/lib/python3.10/dist-packages (from IPython->ipyplot) (5.7.1)\n","Requirement already satisfied: prompt-toolkit!=3.0.0,!=3.0.1,<3.1.0,>=2.0.0 in /usr/local/lib/python3.10/dist-packages (from IPython->ipyplot) (3.0.38)\n","Requirement already satisfied: pygments in /usr/local/lib/python3.10/dist-packages (from IPython->ipyplot) (2.14.0)\n","Requirement already satisfied: backcall in /usr/local/lib/python3.10/dist-packages (from IPython->ipyplot) (0.2.0)\n","Requirement already satisfied: matplotlib-inline in /usr/local/lib/python3.10/dist-packages (from IPython->ipyplot) (0.1.6)\n","Requirement already satisfied: pexpect>4.3 in /usr/local/lib/python3.10/dist-packages (from IPython->ipyplot) (4.8.0)\n","Requirement already satisfied: parso<0.9.0,>=0.8.0 in /usr/local/lib/python3.10/dist-packages (from jedi>=0.16->IPython->ipyplot) (0.8.3)\n","Requirement already satisfied: ptyprocess>=0.5 in /usr/local/lib/python3.10/dist-packages (from pexpect>4.3->IPython->ipyplot) (0.7.0)\n","Requirement already satisfied: wcwidth in /usr/local/lib/python3.10/dist-packages (from prompt-toolkit!=3.0.0,!=3.0.1,<3.1.0,>=2.0.0->IPython->ipyplot) (0.2.6)\n","Installing collected packages: shortuuid, jedi, ipyplot\n","Successfully installed ipyplot-1.1.1 jedi-0.18.2 shortuuid-1.0.11\n"]}]},{"cell_type":"code","execution_count":3,"metadata":{"id":"APaG9EV9wP9v","executionInfo":{"status":"ok","timestamp":1688398295760,"user_tz":-540,"elapsed":826,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}},"colab":{"base_uri":"https://localhost:8080/"},"outputId":"172b0666-e46b-4791-fb80-a58f52ef5f99"},"outputs":[{"output_type":"stream","name":"stdout","text":["\n","        WARNING! Google Colab Environment detected!\n","        You might encounter issues while running in Google Colab environment.\n","        If images are not displaying properly please try setting `force_b64` param to `True`.\n","        \n"]}],"source":["# Import\n","\n","import pandas as pd\n","\n","from urllib.request import urlopen\n","from urllib.parse import quote_plus\n","from selenium import webdriver\n","from selenium.webdriver import ChromeOptions\n","from webdriver_manager.chrome import ChromeDriverManager\n","from selenium.webdriver.common.by import By\n","import time\n","from urllib.request import urlretrieve\n","import os\n","from bs4 import BeautifulSoup\n","from pprint import pprint\n","import requests\n","import ipyplot\n","\n","import openpyxl\n","from tqdm import tqdm\n","from PIL import Image\n","import urllib.request\n","\n","\n","import warnings\n","warnings.filterwarnings(action='ignore')"]},{"cell_type":"markdown","source":["## titleID 가져오기"],"metadata":{"id":"5uPyFEuin_jV"}},{"cell_type":"code","source":["# 크롤링하려는 웹툰 제목 list(띄어쓰기까지 정확하게 기입)\n","\n","# webtoon_title = ['마루는 강쥐', '집이 없어', '위아더좀비', '경자 전성시대', \\\n","#                  '놓지마 정신줄', '정년이', '요리GO', '신과함께', '가비지타임', \\\n","#                  '더 복서', '홀리데이', '[드라마원작] 방과 후 전쟁활동', '내일', '죽음에 관하여', \\\n","#                  '신의 탑', '급식아빠', '참교육', '한림체육관', '취사병 전설이 되다', '윈드브레이커', \\\n","#                  '백수세끼', '나를 바꿔줘', '별이삼샵', '올가미', '모노마니아', '손 안의 안단테', '1초', '연우의 순정', \\\n","#                  '어쩌다보니 천생연분', '세기말 풋사과 보습학원', '노답소녀']\n","\n","webtoon_title = ['순정말고 순종', '뮤즈 온 유명', '세레나', '손 안의 안단테', '노답소녀', '자매전쟁', '여우놀이', '내가 죽기로 결심한 것은', '나를 바꿔줘', '별을 삼킨 너에게', '반드시 해피엔딩', \\\n","                 '모노마니아', '가짜 동맹', '작전명 순정', '대충 캠퍼스로맨스임', '유사연애', '그렇고 그런 바람에', '연우의 순정']\n"],"metadata":{"id":"G2TMRpeVkHfy","executionInfo":{"status":"ok","timestamp":1688398295761,"user_tz":-540,"elapsed":5,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}}},"execution_count":4,"outputs":[]},{"cell_type":"code","source":["len(webtoon_title)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"9mL_ydYPMeF9","executionInfo":{"status":"ok","timestamp":1688278193882,"user_tz":-540,"elapsed":3,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}},"outputId":"7b88d2b6-a994-4930-9786-c6a3f182bf98"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["18"]},"metadata":{},"execution_count":5}]},{"cell_type":"code","source":["url = 'https://comic.naver.com/api/webtoon/titlelist/weekday?order=user'\n","res = requests.get(url)\n","contents = res.json()['titleListMap']"],"metadata":{"id":"Rw_QRptoiqlW","executionInfo":{"status":"ok","timestamp":1688398296548,"user_tz":-540,"elapsed":791,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}}},"execution_count":5,"outputs":[]},{"cell_type":"code","source":["# 연재 웹툰\n","\n","wb = openpyxl.Workbook()\n","ws = wb.active\n","ws.append([\n","    'series_id', 'series_title', 'author', 'day'\n","])\n","\n","for day in contents.keys():\n","    for content in contents[day]:\n","\n","      if content['titleName'] in webtoon_title:\n","\n","        series_id = content['titleId']\n","        series_title = content['titleName']\n","        author = content['author']\n","        # adult = content['adult']\n","        # star_score = content['starScore']\n","        day_ = day\n","\n","        ws.append([\n","            series_id, series_title, author, day_\n","        ])\n","\n","wb.save('네이버웹툰_연재_요일연재.xlsx')"],"metadata":{"id":"ezHEWYW6i1Or","executionInfo":{"status":"ok","timestamp":1688398296548,"user_tz":-540,"elapsed":5,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}}},"execution_count":6,"outputs":[]},{"cell_type":"code","source":["def episode_info(series_id):\n","    '''시리즈ID를 입력받아, 에피소드개수와 완결일을 반환한다'''\n","    episode_info_url = 'https://comic.naver.com/api/article/list?titleId=' + str(series_id) + '&page=1&sort=DESC'\n","    episode_res = requests.get(episode_info_url)\n","    episode_info = episode_res.json()\n","\n","    try:\n","        epi_cnt = episode_info['totalCount']\n","        completed_date = episode_info['articleList'][0]['serviceDateDescription']\n","    except: # 성인작품은 로그인 필요하여 에러 발생함\n","        epi_cnt = None\n","        completed_date = None\n","    return epi_cnt, completed_date"],"metadata":{"id":"DQ6B-yiRlkzW","executionInfo":{"status":"ok","timestamp":1688398296549,"user_tz":-540,"elapsed":5,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}}},"execution_count":7,"outputs":[]},{"cell_type":"code","source":["start_page = 1\n","last_page = 40\n","\n","wb = openpyxl.Workbook()\n","ws = wb.active\n","ws.append([\n","    'series_id', 'series_title', 'author', 'epi_cnt', 'completed_date'\n","])\n","\n","for page in tqdm(range(start_page, last_page + 1)):\n","    time.sleep(1)\n","\n","    url = 'https://comic.naver.com/api/webtoon/titlelist/finished?page=' + str(page) + '&pageSize=45&order=UPDATE'\n","    res = requests.get(url)\n","    contents = res.json()['titleList']\n","\n","    # 요청 실패 시 처리\n","    if res.status_code != 200:\n","        print(str(page) + '_' + str(res.status_code))\n","        continue\n","\n","    # 파싱\n","    for content in contents:\n","      if content['titleName'] in webtoon_title:\n","        series_id = content['titleId']\n","        series_title = content['titleName']\n","        author = content['author']\n","        # adult = content['adult']\n","        # star_score = content['starScore']\n","\n","        # favorite_count, genre = series_info(series_id)\n","        epi_cnt, completed_date = episode_info(series_id)\n","\n","        ws.append([\n","            series_id, series_title, author,  epi_cnt, completed_date\n","        ])\n","\n","wb.save('네이버웹툰_완결작.xlsx')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"XSNos0ZnlA1t","outputId":"61070f8c-0b72-42c1-a09a-042963c82ff4","executionInfo":{"status":"ok","timestamp":1688398352854,"user_tz":-540,"elapsed":56309,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}}},"execution_count":8,"outputs":[{"output_type":"stream","name":"stderr","text":["100%|██████████| 40/40 [00:56<00:00,  1.40s/it]\n"]}]},{"cell_type":"markdown","source":["## 이미지 크롤링"],"metadata":{"id":"ISRD3l-FoDzH"}},{"cell_type":"code","source":["data1 = pd.read_excel('네이버웹툰_연재_요일연재.xlsx')\n","data2 = pd.read_excel('네이버웹툰_완결작.xlsx')"],"metadata":{"id":"Ekd4pwzQm5Ib","executionInfo":{"status":"ok","timestamp":1688398352855,"user_tz":-540,"elapsed":12,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}}},"execution_count":9,"outputs":[]},{"cell_type":"code","source":["data1 = data1.drop('day', axis=1)\n","data2 = data2.drop(['epi_cnt', 'completed_date'], axis=1)"],"metadata":{"id":"pDmtmAlWjuEJ","executionInfo":{"status":"ok","timestamp":1688398352856,"user_tz":-540,"elapsed":12,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}}},"execution_count":10,"outputs":[]},{"cell_type":"code","source":["data = pd.concat([data1, data2], ignore_index=True)\n","data"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":80},"id":"JpM1Hm6mkGMm","executionInfo":{"status":"ok","timestamp":1688398352856,"user_tz":-540,"elapsed":11,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}},"outputId":"bc2ea775-82f1-4444-d312-75013c9fa300"},"execution_count":11,"outputs":[{"output_type":"execute_result","data":{"text/plain":["  series_id series_title    author\n","0    793275       작전명 순정  꼬까리 / 들덤"],"text/html":["\n","  <div id=\"df-16d3252b-b492-46ab-be85-35dd9f2b8e9a\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>series_id</th>\n","      <th>series_title</th>\n","      <th>author</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>793275</td>\n","      <td>작전명 순정</td>\n","      <td>꼬까리 / 들덤</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-16d3252b-b492-46ab-be85-35dd9f2b8e9a')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-16d3252b-b492-46ab-be85-35dd9f2b8e9a button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-16d3252b-b492-46ab-be85-35dd9f2b8e9a');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":11}]},{"cell_type":"code","source":["# 놓친 거 있는지 확인\n","\n","for title in data['series_title']:\n","  if title not in webtoon_title:\n","    print(title)"],"metadata":{"id":"jYHfxMNHkL01","executionInfo":{"status":"ok","timestamp":1688398352857,"user_tz":-540,"elapsed":10,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}}},"execution_count":12,"outputs":[]},{"cell_type":"markdown","source":["# 크롤링"],"metadata":{"id":"edpOKg2GLeoy"}},{"cell_type":"code","source":["# 드라이브에 웹툰 제목으로 폴더 생성(한번에 정확하게!)\n","\n","folder_list = []\n","\n","for title in data['series_title']:\n","  folder_list.append('./' + title)\n","\n","path = '/content/drive/MyDrive/23-1 CV프로젝트 1팀/add_webtoon/webtoon'\n","\n","for webtoonName in folder_list:\n","  os.mkdir(os.path.join(path,  webtoonName))"],"metadata":{"id":"1oyZ6nbOlSKP","executionInfo":{"status":"ok","timestamp":1688398353379,"user_tz":-540,"elapsed":532,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}}},"execution_count":13,"outputs":[]},{"cell_type":"code","source":["# url = \"https://comic.naver.com/webtoon/list?titleId=796152\"\n","\n","# 크롤링 우회\n","headers = {'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36'}\n","html = requests.get(url, headers = headers)\n","result = BeautifulSoup(html.content, \"html.parser\")\n","\n","baseurl = \"https://comic.naver.com/webtoon/detail?titleId=\"\n","for i in range(0, len(data)):\n","  url = baseurl + str(data['series_id'][i])\n","\n","  webtoonName = data['series_title'][i]\n","\n","  path = '/content/drive/MyDrive/23-1 CV프로젝트 1팀/add_webtoon/webtoon/' + webtoonName\n","\n","  for i in range(1, 21): # 회차 임의로 지정(1화부터 20화)\n","    fin_url = url + '&no=' + str(i)\n","    os.mkdir(os.path.join(path, str(i)))\n","\n","    res = requests.get(fin_url)\n","    soup = BeautifulSoup(res.text, 'html.parser')\n","    cut_list = soup.select('.wt_viewer img')\n","\n","    image_src_list = [cut.get('src') for cut in cut_list]\n","\n","\n","    j = 0\n","    for image in image_src_list:\n","      r = requests.get(image, stream=True, headers=headers)\n","      with open(path + \"/\" + str(i) + \"/image\" + str(j) + \".jpg\", 'wb') as f:\n","              f.write(r.content)\n","      j = j + 1\n","\n","    print(webtoonName + str(i) + \"화 이미지 저장 완료!\")"],"metadata":{"id":"4X-JKo2QoGKK","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1688398444212,"user_tz":-540,"elapsed":5478,"user":{"displayName":"Claire Lim","userId":"01177983436534277283"}},"outputId":"0268d51b-52b9-4a50-a7fb-4d14fa77f4e8"},"execution_count":16,"outputs":[{"output_type":"stream","name":"stdout","text":["작전명 순정1화 이미지 저장 완료!\n"]}]},{"cell_type":"code","source":[],"metadata":{"id":"vacb6Z4BY4RL"},"execution_count":null,"outputs":[]}],"metadata":{"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.10.10"},"orig_nbformat":4,"colab":{"provenance":[{"file_id":"1Qj7Ad_Z8XQysg6BZwHHwBX7JU2S4crIl","timestamp":1684088903340}],"machine_shape":"hm","gpuType":"T4"}},"nbformat":4,"nbformat_minor":0}